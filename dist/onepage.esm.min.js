const e={CLASS_NAME_PREFIX:"op",SECTION_CLASS_NAME:"section",ROOT_ID_NAME:"onepage",SLIDER_WRAPPER_CLASS_NAME:"slider-ctn",SINGLE_SLIDE_CLASS_NAME:"slide",TOUCH_THRESHOLD:30,MOUSE_SWIPE_DISCARDED_BUTTONS:[2]};class n extends Error{constructor(e){super(e),this.name="NeverError"}}function t(e,...t){throw console.error("%c[FATAL ERROR]","color: red;",e,...t),new n(e)}function r(e,n){for(const t in n)n.hasOwnProperty(t)&&(n[t]instanceof Object&&e[t]instanceof Object?e[t]=r(e[t],n[t]):e[t]=n[t]);return e}function o(){return window.matchMedia&&window.matchMedia("(pointer: coarse)").matches}var i={toKebabCase:function(e){return e.replace(/_/g,"-").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},addClassName:function(e,n){e.classList.add(n)},removeClassName:function(e,n){e.classList.remove(n)},isElementScrollable:function(e){const n=e.scrollHeight>e.clientHeight,t=e.scrollWidth>e.clientWidth;return!(!n&&!t)},isParentElementScrollable:function(e,n){let t=e.parentElement;for(let e=n;e<=n&&null!=t;){const r=t.scrollHeight>t.clientHeight,o=t.scrollWidth>t.clientWidth;if(r||o)return!0;t=t?.parentElement,-1!==n&&(e+=1)}return!1},tryToGetScrollableParentElement:function(e,n=0){let t=e.parentElement;for(let e=n;e<=n&&null!=t;){const r=t.scrollHeight>t.clientHeight,o=t.scrollWidth>t.clientWidth;if(r||o)return t;t=t?.parentElement,-1!==n&&(e+=1)}return null},hasReachedEndOfScroll:function(e,n="vertical"){switch(n.toLowerCase()){case"vertical":return e.scrollTop+e.clientHeight+1>=e.scrollHeight;case"horizontal":return e.scrollLeft+e.clientWidth+1>=e.scrollWidth}return!1},hasReachedStartOfScroll:function(e,n="vertical"){switch(n.toLowerCase()){case"vertical":return e.scrollTop<=1;case"horizontal":return e.scrollLeft<=1}return!1},wrapAllChildrenOf:function(e,n="div"){const t=document.createElement(n);for(;e.firstChild;)t.appendChild(e.firstChild);return e.appendChild(t),t},wrapChildrenInTag:function(e,n="div"){const t=document.createElement(n);return e.forEach((e=>{t.appendChild(e)})),t},slideParentCtnOrNull:function(n,t=0){let r=n.parentElement;for(let n=t;n<=t&&null!=r;){if(r.classList.contains(e.SLIDER_WRAPPER_CLASS_NAME))return r;r=r?.parentElement,-1!==t&&(n+=1)}return null},sectionParentOrNull:function(n,t=0){let r=n.parentElement;for(let n=t;n<=t&&null!=r;){if(r.classList.contains(e.SECTION_CLASS_NAME))return r;r=r?.parentElement,-1!==t&&(n+=1)}return null},getSliderListInElement:function(n){return n.querySelectorAll("."+e.SLIDER_WRAPPER_CLASS_NAME)},getSingleSlidesInElementOrNull:function(n){const t=n.querySelectorAll("."+e.SINGLE_SLIDE_CLASS_NAME);return t.length>=1?t:null},getRootNodeOrThrow:function(){const n=document.getElementById("#"+e.ROOT_ID_NAME);return null==n&&t(`${e.ROOT_ID_NAME} element not founded in DOOM`),n},deepMerge:r,generateRandomString:function(e=16){const n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let t="";for(let r=0;r<e;r++)t+=n.charAt(Math.floor(62*Math.random()));return t},removeSpace:function(e){return e.replace(/\r?\n|\r|\s+/g,"")},extractClassName:function(e){const n=e.match(/^\s*\.([\w-]+)\s*\{/g);return n?n.map((e=>e.replace(/^\.\s*|\s*{\s*$/g,""))):[]},addPrefixToClassNames:function(e,n){return e.replace(/\.([a-zA-Z0-9_-]+)(?=\s*{|\s*:)/g,((e,t)=>`.${n}-${t}`))},isSection:function(n){return n.classList.contains(e.SECTION_CLASS_NAME)},isSlide:function(n){return n.classList.contains(e.SINGLE_SLIDE_CLASS_NAME)},isSlider:function(n){return n.classList.contains(e.SLIDER_WRAPPER_CLASS_NAME)},isElementBeforeOrAfter:function(e,n){if(e===n)return"same";if(e.parentElement!==n.parentElement)return-1;const t=e.compareDocumentPosition(n);return t&Node.DOCUMENT_POSITION_FOLLOWING?"before":t&Node.DOCUMENT_POSITION_PRECEDING?"after":-1},isTouchDevice:o,inlineString:function(e,n=1){const t=e.replace(/[\r\n]+/g," "),r=new RegExp(` {${n+1},}`,"g");return t.replace(r," ".repeat(n)).trim()},debounce:function(e,n){let t;return(...r)=>{clearTimeout(t),t=setTimeout((()=>e(...r)),n)}}};const l={constants:e,logger:{enabled:!1,levels:["ALL"]},observer:{enabled:!0},scroll:{unlockTimeout:300,keyboardScroll:!0,swipeScroll:!1,overflowScroll:!1,speed:69,direction:"vertical",behavior:"smooth"},section:{},slider:{},keybindings:{up:["ArrowUp","k","PageUp"],down:["ArrowDown","j","PageDown"],left:["ArrowLeft","h"],right:["ArrowRight","l"]}};function s(e,n){const r={"constants.CLASS_NAME_PREFIX":"string","constants.SECTION_CLASS_NAME":"string","constants.ROOT_ID_NAME":"string","constants.SLIDER_WRAPPER_CLASS_NAME":"string","constants.SINGLE_SLIDE_CLASS_NAME":"string","constants.TOUCH_THRESHOLD":"number","constants.MOUSE_SWIPE_DISCARDED_BUTTONS":"array","logger.enabled":"boolean","logger.levels":"array","observer.enabled":"boolean","scroll.unlockTimeout":"number","scroll.keyboardScroll":"boolean","scroll.swipeScroll":"boolean","scroll.overflowScroll":"boolean","scroll.speed":"number","scroll.direction":"string","scroll.behavior":"string","keybindings.up":"array","keybindings.down":"array","keybindings.left":"array","keybindings.right":"array"};r.hasOwnProperty(e)||t("[settings] Invalid Key");const o=r[e];o&&("array"!==o||Array.isArray(n)?typeof n!==o&&"array"!==o&&t(`[settings] Invalid type for ${e}. Expected ${o}.`):t(`[settings] Invalid type for ${e}. Expected an array.`))}function c(e){!function e(n,t,r=""){for(const o in t){const i=r?`${r}.${o}`:o,l=t[o];"object"!=typeof l||null===l||Array.isArray(l)?(s(i,l),n[o]=l):(n[o]||(n[o]={}),e(n[o],l,i))}}(l,e),r(l,e)}let a="";function d(e,...n){let t=e.reduce(((e,t,r)=>e+t+(n[r]?n[r]:"")),""),r=i.inlineString(t,1);const o=i.extractClassName(r),l=o?o[0]:i.generateRandomString();return a+=o?r:`.${l} {${r}}`,l}function u(){!function(e){const n=document.documentElement,t=document.getElementsByTagName("body")[0];i.addClassName(n,f.html),i.addClassName(t,f.html),"horizontal"===l.scroll.direction.toLowerCase()?i.addClassName(e,f.horizontal):i.addClassName(e,f.vertical)}(i.getRootNodeOrThrow())}const f=(()=>{const n={html:d`
        .document {
            overflow: hidden;
            scroll-behavior: smooth;

            margin: 0;
            padding: 0;
        }
        `,vertical:d`
        .vertical {
            display: flex;
            flex-direction: column;
        }
    `,horizontal:d`
        .horizontal {
            display: flex;
            flex-direction: row;
        }
    `,section:d`
        .section {
            display: flex;
            align-items: center;
            justify-content: center;

            max-height: 100vh;
            min-height: 100vh;

            max-width: 100vw;
            min-width: 100vw;

            box-sizing: border-box;
            -webkit-box-sizing: border-box;
        }
    `,overflow:d`
        .overflow {
            overflow: auto;

            max-height: 100vh;

            /* Hide Scrollbar */
            -ms-overflow-style: none; /* [IE And Edge] */
            scrollbar-width: none; /* [Firefox] */

            /* [Chrome, Safari And Opera] */
            ::-webkit-scrollbar { display: none; }
        }
    `,sliderWrapper:d`
        .slider-wrapper {
            z-index: 1;
            overflow: hidden;
            position: relative;
            display: flex;
            flex-direction: row;

            transition: all 0.3s ease-out;
            -webkit-transition: all 0.3s ease-out; /* [Safari <= 6, Android <= 4.3] */

            max-height: 100vh;
            max-width: 100vw;
        }
    `,slide:d`
        .slide {
            display: flex;
            justify-content: center;
            align-items: center;

            min-height: 100vh;
            min-width: 100vw;
        }
    `,sectionPagination:d`
        .section-pagination {
            position: fixed;
            display: flex;
            flex-direction: column;
            gap: 0.6rem;
            border-radius: 0.3rem;
            right: 1rem;
            top: 50%;
            z-index: 2;
            list-style: none;

            margin: 0;
            padding: 0.3rem;

            li {
                padding: 0;
                text-align: center;
            }

            li > a {
                display: flex;
                width: 1rem;
                height: 1rem;
            }

            li > a:before {
                content: '';
                position: absolute;
                background: rgba(0, 0, 0, 0.69);
                border-radius: 1rem;
                width: 1rem;
                height: 1rem;
            }

            li > a.active:before {
                background: rgba(0, 0, 0, 0.9);
                width: 1.2rem;
                height: 1.2rem;
            }
        }
    `};return new Proxy(n,{get(n,t){if(t in n){const r=n[t];return`${e.CLASS_NAME_PREFIX}-${r}`}}})})(),v=(()=>{const e=Object.freeze({DEBUG:1,INFO:2,WARN:4,ERROR:8,ALL:15});let n=(()=>{let n=0;for(const t of l.logger.levels)Object.hasOwn(e,t)&&n<e.ALL&&(n+=e[t]);return 0===n?e.ALL:n})();function t(e){return l.logger.enabled&&!!(n&e)}return{error:function(n,...r){t(e.ERROR)&&console.error("%c[ERROR]","color: red;",n,...r)},warn:function(n,...r){t(e.WARN)&&console.warn("%c[WARN]","color: orange;",n,...r)},info:function(n,...r){t(e.INFO)&&console.info("%c[INFO]","color: blue;",n,...r)},debug:function(n,...r){t(e.DEBUG)&&console.debug("%c[DEBUG]","color: gray;",n,...r)},setLevel:function(e){n=e}}})(),E=(()=>{let e=!1,n={x:0,y:0};const r={wheel:[]};function o(e){n.y=0,n.x=0,0!==e.deltaY&&(n.y=e.deltaY>0?1:-1),0!==e.deltaX&&(n.x=e.deltaX>0?1:-1),async function(e,n){if(r[e])for(const t of r[e])await t(n)}("wheel",e)}function i(){Object.keys(r).forEach((e=>r[e]=[])),n={x:0,y:0}}return{startListen:function(){e||(window?.WheelEvent&&document.addEventListener("wheel",o,!1),v.debug("WheelEventHandler: wheel event listeners [started]"),e=!0)},stopListen:function(){e&&(window?.WheelEvent&&document.removeEventListener("wheel",o,!1),v.debug("WheelEventHandler: wheel event listeners [stoped]"),i(),e=!1)},getAxis:function(e="vertical"){return 0===n.x&&0===n.y?0:(()=>{switch(e){case"vertical":return n.y;case"horizontal":return n.x}return 0})()},on:function(e,n){r[e]?(r[e].push(n),v.debug(`WheelEventHandler: event listener '${e}' [added]`)):t(`WheelEventHandler: unsupported event type: '${e}' (supported types list [${Object.keys(r).join(", ")}])`)},off:function(e,n){r[e]&&(r[e]=r[e].filter((e=>e!==n)),v.debug(`WheelEventHandler: event listener '${e}' [removed]`))},isEventAvailable:function(){return void 0!==window?.WheelEvent}}})(),h=(()=>{let n=!1;const r={start:{x:0,y:0},end:{x:0,y:0},reset(){this.start={x:0,y:0},this.end={x:0,y:0}}},i={swipeStart:[],swipeEnd:[]};async function s(e,n){if(i[e])for(const t of i[e])await t(n)}async function c(n){if(r.reset(),window?.TouchEvent&&n instanceof TouchEvent)r.start.x=n.changedTouches[0].clientX,r.start.y=n.changedTouches[0].clientY;else if(window?.PointerEvent&&n instanceof PointerEvent){const t=n.button;e.MOUSE_SWIPE_DISCARDED_BUTTONS.includes(t)||(r.start.x=n.clientX,r.start.y=n.clientY),v.debug("SwipeEventHandler: pressed mouse button code on 'swipeStart': ",[t])}s("swipeStart",n)}async function a(n){if(window?.TouchEvent&&n instanceof TouchEvent)r.end.x=n.changedTouches[0].clientX,r.end.y=n.changedTouches[0].clientY;else if(window?.PointerEvent&&n instanceof PointerEvent){const t=n.button;e.MOUSE_SWIPE_DISCARDED_BUTTONS.includes(t)||(r.end.x=n.clientX,r.end.y=n.clientY),v.debug("SwipeEventHandler: pressed mouse button code on 'swipeMove': ",[t])}}async function d(n){if(window?.TouchEvent&&n instanceof TouchEvent)r.end.x=n.changedTouches[0].clientX,r.end.y=n.changedTouches[0].clientY;else if(window?.PointerEvent&&n instanceof PointerEvent){const t=n.button;e.MOUSE_SWIPE_DISCARDED_BUTTONS.includes(t)||0===n.clientX&&0===n.clientY||(r.end.x=n.clientX,r.end.y=n.clientY),v.debug("SwipeEventHandler: pressed mouse button code on 'swipeEnd': ",[t])}s("swipeEnd",n)}function u(){Object.keys(i).forEach((e=>i[e]=[])),r.reset()}return{startListen:function(){n||(window?.PointerEvent&&l.scroll.swipeScroll&&!o()&&(document.addEventListener("pointerdown",c,!1),document.addEventListener("pointermove",a,!1),document.addEventListener("pointerup",d,!1),document.addEventListener("pointercancel",d,!1),v.debug("SwipeEventHandler: pointer event listeners [started]")),window?.TouchEvent&&o()&&(document.addEventListener("touchstart",c,!1),document.addEventListener("touchend",d,!1),document.addEventListener("touchmove",a,!1),document.addEventListener("touchcancel",d,!1),v.debug("SwipeEventHandler: touch event listeners [started]")),n=!0)},stopListen:function(){n&&(window?.PointerEvent&&l.scroll.swipeScroll&&void 0===window?.TouchEvent&&(document.removeEventListener("pointerdown",c,!1),document.removeEventListener("pointermove",a,!1),document.removeEventListener("pointerup",d,!1),document.removeEventListener("pointercancel",d,!1),v.debug("SwipeEventHandler: pointer event listeners [stoped]")),window?.TouchEvent&&(document.removeEventListener("touchstart",c,!1),document.removeEventListener("touchend",d,!1),document.removeEventListener("touchmove",a,!1),document.removeEventListener("touchcancel",d,!1),v.debug("SwipeEventHandler: touch event listeners [stopped]")),u(),n=!1)},getAxis:function(n="vertical"){const t=r.end.x-r.start.x,o=r.end.y-r.start.y;if(0===t&&0===o)return 0;if(Math.abs(t)>Math.abs(o)){if(Math.abs(t)>=e.TOUCH_THRESHOLD&&"horizontal"===n)return t>=0?-1:1}else if(Math.abs(o)>=e.TOUCH_THRESHOLD&&"vertical"===n)return o>=0?-1:1;return 0},on:function(e,n){i[e]?(i[e].push(n),v.debug(`SwipeEventHandler: event listener '${e}' [added]`)):t(`SwipeEventHandler: unsupported event type: '${e}' (supported types list [${Object.keys(i).join(", ")}])`)},off:function(e,n){i[e]&&(i[e]=i[e].filter((e=>e!==n)),v.debug(`SwipeEventHandler: event listener '${e}' [removed]`))},isEventAvailable:function(){const e=void 0!==window?.TouchEvent,n=void 0!==window?.PointerEvent;return e||n&&l.scroll.swipeScroll}}})(),p=(()=>{let e=!1,n={lastKey:"",axisKey:"",reset(){this.lastKey="",this.axisKey=""}};const r={keydown:[],keyup:[]};async function o(e,n){if(r[e])for(const t of r[e])await t(n)}async function i(e){n.lastKey=e.key,n.axisKey=e.key,o("keydown",e)}async function s(e){e.key===n.axisKey&&(n.axisKey=""),o("keyup",e)}function c(e="vertical"){if("vertical"===e){if(l.keybindings.up.includes(n.axisKey))return-1;if(l.keybindings.down.includes(n.axisKey))return 1}else if("horizontal"===e){if(l.keybindings.right.includes(n.axisKey))return 1;if(l.keybindings.left.includes(n.axisKey))return-1}return 0}function a(){Object.keys(r).forEach((e=>r[e]=[])),n.reset()}return{startListen:function(){e||(window?.KeyboardEvent&&l.scroll.keyboardScroll&&(window.addEventListener("keydown",i,!1),window.addEventListener("keydown",s,!1),v.debug("KeyEventHandler: key event listeners [started]")),e=!0)},stopListen:function(){e&&(window?.KeyboardEvent&&l.scroll.keyboardScroll&&(window.removeEventListener("keydown",i,!1),window.removeEventListener("keyup",s,!1),v.debug("KeyEventHandler: key event listeners [stopped]")),a(),e=!1)},getAxis:c,on:function(e,n){r[e]?(r[e].push(n),v.debug(`KeyEventHandler: event listener '${e}' [added]`)):t(`KeyEventHandler: unsupported event type: '${e}' (supported types list [${Object.keys(r).join(", ")}])`)},off:function(e,n){r[e]&&(r[e]=r[e].filter((e=>e!==n)),v.debug(`KeyEventHandler: event listener '${e}' [removed]`))},scrollWithKeys:function(e,n="vertical"){if(0===e.scrollHeight&&0===e.scrollWidth)return;const{speed:t}=l.scroll;if("vertical"===n){const r=c(n)*t+e.scrollTop;e.scroll({top:r})}else if("horizontal"===n){const r=c(n)*t+e.scrollLeft;e.scroll({left:r})}v.debug(`KeyEventHandler: scroll with keys called with speed '${t}' on element`,[e])},isEventAvailable:function(){return void 0!==window?.KeyboardEvent&&l.scroll.keyboardScroll}}})(),m=(()=>{let e,n=!1;function t(e,n){return!!l.scroll.overflowScroll&&(()=>{const t=e.elemRef.querySelector("."+f.overflow);if(null!=t&&i.isElementScrollable(t)){if(-1===n)return!i.hasReachedStartOfScroll(t);if(1===n)return!i.hasReachedEndOfScroll(t)}return!1})()}function r(e,n){return window?.PointerEvent&&e instanceof PointerEvent||window?.TouchEvent&&e instanceof TouchEvent?h.getAxis(n):window?.WheelEvent&&e instanceof WheelEvent?E.getAxis(n):window?.KeyboardEvent&&e instanceof KeyboardEvent?p.getAxis(n):0}function o(o,i){if(n)return;n=!0,e&&clearTimeout(e),e=setTimeout((()=>{n=!1}),l.scroll.unlockTimeout);const s=i.getCurrentSection();s.sliderList.length>=1&&function(e,n){if(window?.WheelEvent&&e instanceof WheelEvent)return;const t=r(e,"horizontal");t>0?n.next():t<0&&n.prev()}(o,s.sliderList[0]);const c=r(o,"vertical");c>0?t(s,1)||i.scrollNext():c<0&&(t(s,-1)||i.scrollPrev())}return{init:function(e){E.isEventAvailable()&&(E.on("wheel",(n=>o(n,e))),E.startListen()),p.isEventAvailable()&&(p.on("keydown",(n=>{const r=n.target;if("INPUT"!==r?.tagName&&"TEXTAREA"!==r?.tagName){const r=e.getCurrentSection();if(t(r,p.getAxis("vertical"))){const e=r.elemRef.querySelector("."+f.overflow);null!==e&&(p.scrollWithKeys(e,"vertical"),n.preventDefault())}else o(n,e)}})),p.startListen()),h.isEventAvailable()&&(h.on("swipeEnd",(n=>o(n,e))),h.startListen())}}})();function g(e,n={}){const t=function(){let n=e.item(0).parentElement;if(null===n||!i.isSlider(n)){const t=i.wrapChildrenInTag(e,"div");return n?.appendChild(t),t}return n}(),r=Array.from(e);let o=n.initialIndex??0;function s(e,n){e<0||e>=n.length||n[e].scrollIntoView({behavior:l.scroll.behavior,block:"start",inline:"center"})}return i.addClassName(t,f.sliderWrapper),r.forEach((e=>{i.addClassName(e,f.slide)})),{elemRef:t,slideList:r,insert:function(e,n){r.splice(e,0,n)},remove:function(e){if(r.length<=0)return;const n=r.findIndex((n=>n===e));n>=0&&r.splice(n,1)},prev:function(){o=(o-1+r.length)%r.length,s(o,r)},next:function(){o=(o+1+r.length)%r.length,s(o,r)},goToSlide:function(e){e<0||e>=r.length||(s(o,r),o=e)}}}function w(e){const n=e,t=function(e){const n=new Array;function t(e){if(n.length<=0)return;const t=n.findIndex((n=>n.elemRef===e));t>=0&&n.splice(t,1)}function r(e,t){const r=g(t.querySelectorAll("."+l.constants.SINGLE_SLIDE_CLASS_NAME));n.splice(e,0,r)}return function(){const t=i.getSliderListInElement(e),r=i.getSingleSlidesInElementOrNull(e);null!==r&&(()=>{for(const e in r){const n=r[e].parentElement;if(null!==n)return!i.isSlider(n)}return!0})()&&n.push(g(r)),t.forEach((e=>{const t=g(e.querySelectorAll("."+l.constants.SINGLE_SLIDE_CLASS_NAME));n.push(t)}))}(),new Proxy(n,{get(e,n){if(n in e)return e[n];switch(n){case"insert":return r;case"remove":return t;default:return}}})}(e);return function(){if(i.addClassName(e,f.section),l.scroll.overflowScroll){const n=i.wrapAllChildrenOf(e);i.addClassName(n,f.overflow)}}(),{elemRef:n,sliderList:t}}const S=(()=>{let e=!1;const n={DOMContentLoaded:[],load:[],beforeUnload:[],unload:[]};async function r(e,t){if(n[e])for(const r of n[e])await r(t)}function o(e){r("DOMContentLoaded",e)}function i(e){r("load",e)}function l(e){r("beforeUnload",e)}function s(e){r("unload",e)}return{startListen:function(){e||(document.addEventListener("DOMContentLoaded",o),window.addEventListener("load",i),window.addEventListener("beforeunload",l),window.addEventListener("unload",s),v.debug("DOMLoadEventHandler: Listeners [started]"),e=!0)},stopListen:function(){e&&(document.removeEventListener("DOMContentLoaded",o),window.removeEventListener("load",i),window.removeEventListener("beforeunload",l),window.removeEventListener("unload",s),v.debug("DOMLoadEventHandler: Listeners [stopped]"),Object.keys(n).forEach((e=>n[e]=[])),e=!1)},on:function(e,r){n[e]?(n[e].push(r),v.debug(`DOMEventHandler: event listener '${e}' [added]`)):t(`DOMEventHandler: unsupported event type: '${e}' (supported types list [${Object.keys(n).join(", ")}])`)},off:function(e,t){n[e]&&(n[e]=n[e].filter((e=>e!==t)),v.debug(`DOMEventHandler: event listener '${e}' [removed]`))}}})(),y=(()=>{const n=[e.SECTION_CLASS_NAME,e.SLIDER_WRAPPER_CLASS_NAME,e.SINGLE_SLIDE_CLASS_NAME];let r=null;const o={added:[],removed:[],changed:[]};async function l(e,n){if(o[e])for(const t of o[e])await t(n)}function s(e){return e.nodeType===e.ELEMENT_NODE?e:null}function c(e){return i.isSection(e)?{targetType:"section",element:e}:i.isSlider(e)?{targetType:"slider",element:e}:i.isSlide(e)?{targetType:"slide",element:e}:{targetType:"other",element:e}}function a(e){return n.some((n=>e.classList.contains(n)))}function d(){Object.keys(o).forEach((e=>o[e]=[])),r=null}return{startListen:function(){if(null!==r)return;r=new MutationObserver((e=>{e.forEach((e=>{"childList"===e.type?function(e){e.addedNodes.forEach((e=>{const n=s(e);null!==n&&a(n)&&l("added",c(n))})),e.removedNodes.forEach((e=>{const n=s(e);null!==n&&a(n)&&l("removed",c(n))}))}(e):"attributes"===e.type&&function(e){const n=s(e.target);null!==n&&a(n)&&"class"===e.attributeName&&l("changed",c(n))}(e)}))}));const e=i.getRootNodeOrThrow();r.observe(e,{childList:!0,attributes:!0,subtree:!0,attributeFilter:["class"]}),v.debug("ObserverEventHandler: Listeners [started]")},stopListen:function(){null!==r&&(r.disconnect(),d(),v.debug("ObserverEventHandler: Listeners [stopped]"))},on:function(e,n){o[e]?(o[e].push(n),v.debug(`ObserverEventHandler: event listener "${e}" [added]`,[{callback:n,total:o[e].length}])):t(`ObserverEventHandler: unsupported event type: "${e}" (supported types list [${Object.keys(o).join(", ")}])`)},off:function(e,n){o[e]&&(o[e]=o[e].filter((e=>e!==n)),v.debug(`ObserverEventHandler: event listener "${e}" [removed]`,[{callback:n,total:o[e].length}]))}}})(),b=(()=>{let n;const r={};return S.startListen(),S.on("DOMContentLoaded",(async()=>{!function(){const n=`<style> ${i.addPrefixToClassNames(a,e.CLASS_NAME_PREFIX)}</style>`;document.head.insertAdjacentHTML("beforeend",n)}(),u(),l.observer.enabled&&(y.on("removed",(e=>{"slider"===e.targetType&&n.forEach((n=>{n.sliderList.find((n=>n.elemRef===e.element))&&n.sliderList.remove(e.element)}))})),y.on("added",(e=>{if("slider"!==e.targetType)return;const t=i.sectionParentOrNull(e.element);n.forEach((n=>{if(n.elemRef!==t)return;let r=0;n.sliderList.length>=1&&(r=n.sliderList.findIndex((n=>"after"===i.isElementBeforeOrAfter(e.element,n.elemRef)))),-1!==r&&(n.sliderList.insert(r,e.element),i.addClassName(e.element,f.sliderWrapper))}))})),y.startListen());const t=i.getRootNodeOrThrow().querySelectorAll("."+l.constants.SECTION_CLASS_NAME);t instanceof Error||(n=function(e){const n=new Array(e.length);let t=0;function r(){const e=(t+1+n.length)%n.length;u(e,n),t=e}function o(){const e=(t-1+n.length)%n.length;u(e,n),t=e}function s(e){e<0||e>=n.length||(u(e,n),t=e)}function c(e){if(n.length<=0)return;const t=n.findIndex((n=>n.elemRef===e));t>=0&&n.splice(t,1)}function a(e,t){const r=w(t);n.splice(e,0,r)}function d(){return n[t]}function u(e,n){e<0||e>=n.length||(n[e].elemRef.scrollIntoView({behavior:l.scroll.behavior||"smooth",block:"start"}),i.removeClassName(n[t].elemRef,"active"),i.addClassName(n[e].elemRef,"active"))}return e.forEach(((e,r)=>{e.classList.contains("active")&&(t=r);const o=w(e);n[r]=o})),i.addClassName(n[t].elemRef,"active"),s(t),new Proxy(n,{get(e,n){if(n in e)return e[n];switch(n){case"insert":return a;case"remove":return c;case"scrollNext":return r;case"scrollPrev":return o;case"scrollToSection":return s;case"getCurrentSection":return d;default:return}}})}(t),m.init(n),v.info("OnePage: has been initialized correctly"))})),{setOptions:c,on:function(e,n){r[e]?(r[e].push(n),v.debug(`OnePageEventHandler: event listener '${e}' [added]`)):t(`OnePageEventHandler: unsupported event type: '${e}' (supported types list [${Object.keys(r).join(", ")}])`)},off:function(e,n){r[e]&&(r[e]=r[e].filter((e=>e!==n)),v.debug(`OnePageEventHandler: event listener '${e}' [removed]`))}}})();export{b as default};